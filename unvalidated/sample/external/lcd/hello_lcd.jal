-- prog.jal, to test LCD

include 16F877a          

pragma target clock 20_000_000                  -- xtal frequency
pragma target OSC        hs
pragma target 	LVP	disabled
pragma target 	WDT	disabled

enable_digital_io()


var bit  LED		is pin_a0		-- LED to see proper PIC startup
pin_a0_direction 	= output         

var  bit  RS		is pin_b5		-- LCD command/data select.
var  bit  EN		is pin_b4		-- LCD data trigger
port_b_direction 	= all_output	-- LCD data is portb_low


include lcd							-- LCD library


for 4 loop
   LED = on
   for 10 loop   
      delay100mus(255)
   end loop
   LED = off
   for 10 loop   
      delay100mus(255)
   end loop
end loop

lcdwrtchar("H")  lcdwrtchar("e") lcdwrtchar("l") lcdwrtchar("l")  lcdwrtchar("o")
lcdwrtchar(" ")
lcdwrtchar("w")  lcdwrtchar("o") lcdwrtchar("r") lcdwrtchar("l")  lcdwrtchar("d")


var byte counter

forever loop                                  -- loop forever

   lcdSetCursor(1, 0) 
   lcdWrthexchar(counter) 
   counter = counter + 1
   for 10 loop   
      delay100mus(255)
   end loop

end loop






