-- prog.jal, to test LCD

include 16F877a          

pragma target clock 20_000_000                  -- xtal frequency
pragma target OSC        hs
pragma target   LVP disabled
pragma target   WDT disabled

enable_digital_io()


var bit  LED        is pin_a0       -- LED to see proper PIC startup
pin_a0_direction    = output         

var  bit  RS        is pin_b5       -- LCD command/data select.
var  bit  EN        is pin_b4       -- LCD data trigger
var byte data_port  is portb_low    -- LCD data

portb_direction     = all_output    -- LCD data is portb_low



include lcd                         -- LCD library
include delay_any_mc

for 4 loop
   LED = on
   delay_100ms(3)
   LED = off
   delay_100ms(3)
end loop

lcdwrtchar("H")  lcdwrtchar("e") lcdwrtchar("l") lcdwrtchar("l")  lcdwrtchar("o")
lcdwrtchar(" ")
lcdwrtchar("w")  lcdwrtchar("o") lcdwrtchar("r") lcdwrtchar("l")  lcdwrtchar("d")


var byte counter

forever loop                                  -- loop forever

   lcdsetcursor(1, 0) 
   lcdwrthexchar(counter) 
   counter = counter + 1
   delay_100ms(2)

end loop






