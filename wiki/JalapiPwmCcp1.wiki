#summary hardware PWM control, dedicated to register CCP1
#labels Phase-Implementation, Type-Jalapi

= pwm_ccp1 =


|| *Author* || Stef Mientki, Copyright (C) 2002-2006, all rights reserved. ||
|| *Adapted-by* || Sebastien Lelong ||
|| *Compiler* || >=2.4g ||


*Description*

  performs PWM operations on CCP1
  The target must support this.
  




*Notes*

  this is a heavy refactoring of the original pwm_hardware.jal
  Stef's lib
  


*Dependencies*

  * [JalapiPwmCommon pwm_common]




= API =


== Global variables/contants ==

 * *`var byte ccpr1l_shadow`*


 * *`var byte ccp1con_shadow`*


 


== Procedures ==

 * *`procedure pwm1_set_dutycycle(byte in duty) is`*

   -----------------------------------------------------------------------------
   sets dutycyle in low resolution mode
   the 2 LSbits take their value from ccp1con_shadow, by default 0
   this means if duty1 = 0, there's no pwm, if duty1 = 255, you're closed to
   (but not at) the maximum pwm
   -----------------------------------------------------------------------------
   

 * *`procedure pwm1_off() is`*


 * *`procedure pwm1_on() is`*


 * *`procedure pwm1_set_dutycycle_highres(word in duty) is`*

   Because duty cycle is coded on 10 bits, the given value can't greater than 1024
   If not active yet, calling this procedure will enable PWM
   -----------------------------------------------------------------------------
   

 * *`procedure pwm1_set_percent_dutycycle(byte in percent) is`*

   This procedure set duty cycle using a percentage
   According to what has been computed by pwm_set_frequency(),
   it converts the duty percent to a value suitable for the
   selected pwm frequency.
   

 


== Functions ==

 





= Related samples =

Here are the list of samples which use this library:

 * [http://code.google.com/p/jallib/source/browse/trunk/unvalidated/sample/peripheral/pwm/pwm_led_16f88.jal pwm_led_16f88.jal]
 * [http://code.google.com/p/jallib/source/browse/trunk/unvalidated/sample/peripheral/pwm/pwm_sound_16f88.jal pwm_sound_16f88.jal]
 * [http://code.google.com/p/jallib/source/browse/trunk/unvalidated/sample/peripheral/pwm/pwm_led_highres_16f88.jal pwm_led_highres_16f88.jal]
 * [http://code.google.com/p/jallib/source/browse/trunk/unvalidated/sample/peripheral/pwm/pwm_led_16f877a.jal pwm_led_16f877a.jal]



